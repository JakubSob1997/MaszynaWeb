<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maszyna Web</title>
    
    <link rel="preload" href="translations.json" as="fetch" crossorigin="" type="application/json" >

    <link rel="stylesheet" href="./styles/defaults.css">
    <link rel="stylesheet" href="./styles/color-pallete.css">


    <link rel="stylesheet" href="./styles/page-layout.css">
    <link rel="stylesheet" href="./styles/custom-elements.css">

    <link rel="stylesheet" href="./styles/generic-inspector.css">
    <link rel="stylesheet" href="./styles/io-inspector.css">
    <link rel="stylesheet" href="./styles/instruction-inspector.css">
    <link rel="stylesheet" href="./styles/setings-inspector.css">
    <link rel="stylesheet" href="./styles/info-inspector.css">
    <link rel="stylesheet" href="./styles/file-inspector.css">


    <link rel="stylesheet" href="./styles/variable-preview.css">

    <link rel="stylesheet" href="./styles/machine-layout.css">
    <link rel="stylesheet" href="./styles/machine-content.css">

    <link rel="stylesheet" href="./styles/alert-styles.css">

    <link rel="stylesheet" href="./styles/custom-codemirror.css">


    <link rel="stylesheet" href="./lib/codemirror.css">
    <link rel="stylesheet" href="./lib/darcula.css">
    

    <script src="./lib/codemirror.js"></script>
    <script type="module" src="./scripts/instruction-color-model.js"></script>
    <script type="module" src="./scripts/assembly-color-model.js"></script>
    <script type="module"  src="./scripts/layout.js"></script>
    <script type="module" src="./scripts/main.js"></script>
    


</head>
<body>



  <header>

    <svg id="mobile-menu"  viewBox="0 0 100 80" width="2em" height="2em" class=mobile-menu tabindex="0">
      <title> Navigation Menu.</title>
      <rect width="100" height="20"></rect>
      <rect y="30" width="100" height="20"></rect>
      <rect y="60" width="100" height="20"></rect>
    </svg>
      
    <a href="#" class="logo unselectable"><span class="logo-prefix">Maszyna W</span>eb</a>

    <nav id="navbar">
      <button class="nav-button" id ="asm-nav">Program</button>
      <button class="nav-button"  id ="instruction-list-nav">Instructions</button>
      <button class="nav-button"  id ="settings-nav">Settings</button>
      <button class="nav-button"  id ="io-nav">I/O</button>
      <button class="nav-button"  id ="file-nav">File</button>
      <button class="nav-button"  id ="info-nav">Info</button>

    </nav>
    
    <div id="flow-control">
      <button class="flow-button " id="toggle-manual-button"> Manual</button>
      <button class="flow-button " id="next-cycle-button">Cycle</button>
      <button class="flow-button " id="next-instruction-button">Instruction</button>
      <button class="flow-button " id="run-machine-button">Run</button>
    </div>
  </header>
  
  
  
  
  <div class="page">
    

  
  
  <section class="center" id="center">
  

    
    <div class="alert-area"  id="alert-area">
    </div>

    <div class="machine-flex">

    <div class="machine-wrapper">
      <div class="container">
        <div class="as-bus"></div>
        <div class="s-bus"></div>
        <div class="a-bus"></div>
        <div class="up-area">
          <div class="rz-area">
            <div class="rz-center">
              <div class="rz-2"></div>
              <div class="rz-1"></div>
              <div class="rz-3"></div>
              <div class="rz-4"></div>
              <div class="rz-r"></div>
            </div>
          </div>
          <div class="rp-area">
            <div class="rp-r"></div>
          </div>
          <div class="rm-area">
            <div class="rm-center">
              <div class="rm-r"></div>
              <div class="werm-s"></div>
              <div class="wyrm-s"></div>
              <div class="wyrm-arrow-down"></div>
              <div class="werm-arrow-up"></div>
            </div>
          </div>
          <div class="ap-area">
            <div class="ap-center">
              <div class="ap-r"></div>
              <div class="wyap-s"></div>
              <div class="wyap-arrow-down"></div>
            </div>
          </div>
          <div class="eint-rint-area">
            <div class="eni-s"></div>
            <div class="rint-s"></div>
          </div>
        </div>
        <div class="down-area">
          <div class="x-area">
            <div class="x-center">
              <div class="x-r"></div>
              <div class="wyx-s"></div>
              <div class="wex-s"></div>
              <div class="wex-arrow-down"></div>
              <div class="wyx-arrow-up"></div>
            </div>
          </div>
          <div class="y-area">
            <div class="y-center">
              <div class="y-r"></div>
              <div class="wey-arrow-down"></div>
              <div class="wyy-arrow-up"></div>
              <div class="wyy-s"></div>
              <div class="wey-s"></div>
            </div>
          </div>
          <div class="rb-area">
            <div class="rb-center">
              <div class="rb-r"></div>
              <div class="werb-arrow-down"></div>
              <div class="werb-s"></div>
              <div class="wyrb-arrow-up"></div>
              <div class="wyrb-s"></div>
            </div>
          </div>
          <div class="g-area">
            <div class="g-center">
              <div class="g-r"></div>
              <div class="wyg-s"></div>
              <div class="wyg-arrow-up"></div>
              <div class="start-s"></div>
            </div>
          </div>
        </div>
        <div class="left-area">
          <div class="i-l-area">
            <div class="il-s"></div>
            <div class="wyls-arrow-down"></div>
            <div class="i-r"></div>
            <div class="l-r"></div>
            <div class="wyad-arrow-up"></div>
            <div class="l-sigs">
              <div class="wel-s"></div>
              <div class="wyl-s"></div>
              <div class="wel-arrow-down"></div>
              <div class="wyl-arrow-up"></div>
            </div>
            <div class="i-sigs">
              <div class="wei-s"></div>
              <div class="wei-arrow-up"></div>
            </div>
            <div class="wyad-wyls-stop-area">
              <div class="wyad-s"></div>
              <div class="wyls-s"></div>
              <div class="stop-s"></div>
            </div>
          </div>
        </div>
        <div class="center-area">
          <div class="mem-Area">
            <div class="mem-center">
              <div class="a-r"></div>
              <div class="s-r"></div>
              <div class="mem-body"></div>
              <div class="s-sigs">
                <div class="wys-s"></div>
                <div class="wes-s"></div>
                <div class="wes-arrow-up"></div>
                <div class="wys-arrow-down"></div>
              </div>
              <div class="a-sigs">
                <div class="wea-arrow-down"></div>
                <div class="wea-s"></div>
              </div>
            </div>
            <div class="mem-right">
              <div class="czyt-s"></div>
              <div class="pisz-s"></div>
            </div>
          </div>
          <div class="jal-ws-area">
            <div class="ws-area">
              <div class="ws-center">
                <div class="ws-r"></div>
                <div class="iws-s"></div>
                <div class="dws-s"></div>
                <div class="wyws-s"></div>
                <div class="wyws-arrow-up"></div>
                <div class="wews-arrow-down"></div>
                <div class="wews-s"></div>
              </div>
              <div class="as-area">
                <div class="as-s"></div>
              </div>
            </div>
            <div class="jal-area">
              <div class="jal-cener">
                <div class="wyak-arrow-down-wyak"></div>
                <div class="wyak-arrow-hor-wyak"></div>
                <div class="wyak-arrow-vert-wyak"></div>
                <div class="dak-s"></div>
                <div class="iak-s"></div>
                <div class="weak-s"></div>
                <div class="dod-s"></div>
                <div class="ode-s"></div>
                <div class="przep-s"></div>
                <div class="mno-s"></div>
                <div class="dziel-s"></div>
                <div class="shr-s"></div>
                <div class="ak-r"></div>
                <div class="f-r"></div>
                <div class="jal-body"></div>
                <div class="neg-s"></div>
                <div class="lub-s"></div>
                <div class="i-s"></div>
                <div class="weja-area">
                  <div class="weja-s"></div>
                  <div class="weja-arrow-up"></div>
                </div>
                <div class="wyak-s"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    
    
    </div>
    

    

  </div>
    
  </section>
  
  
  <section class="left-side-bar" id="left-panel">
    <div id="left-handle" class="left-drag-handle handle-ew"></div>
    <div id="editor" class="bar"></div>
  </section>

  <section class="right-side-bar" id="right-panel">
    <div id="right-handle" class="right-drag-handle handle-ew"></div>
    <div id="inspector" class="bar"></div>
  </section>
  
  </div>
  
  
  <template class = "info-entry" data-key="_about" lang="en" data-default data-title="About Machine" >
    <p><span data-key="_about">Machine W</span> is a simplified computer model.
      It allows execution of programs written in <span data-key="_assembly">assembly language</span> , 
      with use of custom  <span data-key="_instruction">instructions</span>.</p>
    
      <br> <b>You can find example programs at:</b>  <br> <p> <i>File => Presets => [name].json => Load</i></p>
      <b>Then you can execute them by:</b>  <br> <p> <i>Program => Load To Memory => Run</i> </p>
      <br>
  </template>

  <template class = "info-entry"  data-key="_about" lang="pl" data-title="O Maszynie">
    <p><span data-key="_about">Maszyna W</span> jest uproszczonym modelem komputera.
    Pozwala ona na wykonywanie programów napisanych w <span data-key="_assembly">języku asemblera</span>, 
    przy pomocy zaprojektowanych   <span data-key="_instruction">rozkazów</span>.</p>
   
    <br> <b>Przykładowe programy można znaleźć w:</b>  <br> <p> <i>Plik => Presety => [nazwa].json => Wczytaj</i></p>
    <b>A następnie je uruchomić poprzez:</b>  <br> <p> <i>Program => Ładuj do pamięci => Uruchom</i> </p>
    <br>
  </template>

  <template class = "info-entry"  data-key="_register" lang="en" data-default data-title="Register">
    <p><span data-key="_register">Registers</span> allow to store values.
      Register read/write operations are done with help of following <span data-key="_signal">signals</span>: 
      <span class="over"> we[name]</span>, wy[name]</p>
    <h3>Register list with their descriptions</h3>
    <dl>
      <b><div><dt>Name</dt><dd>Description</dd></div></b>
      <div><dt>AK</dt><dd>Accumulator</dd></div>
      <div><dt>S</dt><dd>Word Register</dd></div>
      <div><dt>A</dt><dd>Address Register</dd></div>
      <div><dt>I</dt><dd>Instruction Register</dd></div>
      <div><dt>L</dt><dd>Counter Register</dd></div>
      <div><dt>WS</dt><dd>Stack Pointer Register</dd></div>
      <div><dt>RZ</dt><dd>Reported Interrupt Register</dd></div>
      <div><dt>RP</dt><dd>Active Interrupt Register</dd></div>
      <div><dt>RM</dt><dd>Interrupt Mask Register</dd></div>
      <div><dt>AP</dt><dd>Interrupt Address Register</dd></div>
      <div><dt>RG</dt><dd>Buffer Register</dd></div>
      <div><dt>G</dt><dd>Ready Bit</dd></div>
    </dl>
  </template>

  <template class = "info-entry" data-title="Rejestry" data-key="_register" lang="pl">
    <p><span data-key="_register">Rejestry</span> pozwalają na przechowywanie wartości.
      Operacje zapisu i odczytu z rejestru są realizowane przy pomocy odpowiednich <span data-key="_signal">sygnałów</span>: 
      <span class="over"> we[nazwa]</span>, wy[nazwa]</p>
    <h3>Lista rejestrów wraz z ich typowym przeznaczeniem:</h3>
    <dl>
      <b><div><dt>Nazwa</dt><dd>Opis</dd></div></b>
      <div><dt>AK</dt><dd>Akumulator</dd></div>
      <div><dt>S</dt><dd>Rejestr Słowa</dd></div>
      <div><dt>A</dt><dd>Rejestr Adresu</dd></div>
      <div><dt>I</dt><dd>Rejestr Instrukcji (Rozkazu)</dd></div>
      <div><dt>L</dt><dd>Rejestr Licznika</dd></div>
      <div><dt>WS</dt><dd>Rejestr Wskaźnika Stosu</dd></div>
      <div><dt>RZ</dt><dd>Rejestr Zgłoszeń</dd></div>
      <div><dt>RP</dt><dd>Rejestr Przerwania</dd></div>
      <div><dt>RM</dt><dd>Rejestr Maski</dd></div>
      <div><dt>AP</dt><dd>Adres Przerwania</dd></div>
      <div><dt>RG</dt><dd>Rejestr Bufora</dd></div>
      <div><dt>G</dt><dd>Bit Gotowości</dd></div>
    </dl>

  </template>


  <template class = "info-entry" data-key="_bus" lang="en" data-default data-title="Busses">
    <p>
      <span data-key="_bus">Busses</span> are responsible for connecting  <span data-key="_register">registers</span>.
       During a single <span data-key="_cycle">cycle</span> only one register cant output data to a bus, 
       Multiple registers can read values from a register at the same time.
    </p>
  </template>

  <template class = "info-entry" data-key="_bus" lang="pl" data-title="Magistrale" >
    <p>
      <span data-key="_bus">Magistrale</span> pełnią rolę połączenia pomiędzy <span data-key="_register">rejestrami</span>.
       Podczas jednego <span data-key="_cycle">taktu</span> na magistrale może wystawiać wartość tylko jeden rejestr, 
       Lecz z magistrali może odczytywać wartość wiele rejestrów jednocześnie.
    </p>
  </template>

  <template class = "info-entry" data-key="_alu" lang="en" data-default data-title="Arithmetic Logic Unit" >
    <p>
      <span data-key="_alu">Arithmetic Logic Unit</span> allows to perform arithmetic and logic operations. 
      The first argument of an operation is the <span data-key="_register">AK register</span> value,
      the second argument of an operation is the <span data-key="_bus">S bus</span> value during active <span data-key="_signal">weja signal</span>.
      The operation result is written into the <span data-key="_register">AK register</span> with the use of <span data-key="_signal"> <span  class="over">weak</span> signal</span>.
      During a single <span data-key="_cycle">cycle</span> only one arithmetic/logic operation can be active at a time.
    </p>
  </template>

  <template class = "info-entry" data-key="_alu" lang="pl" data-title="Jednostka Arytmetyczno Logiczna">
    <p>
      <span data-key="_alu">Jednostka Arytmetyczno Logiczna</span> pozwala na wykonywanie operacji arytmetyczno logicznych. 
      Pierwszym operandem operacji jest zawartość <span data-key="_register">rejestru AK</span>,
      a drugim operandem jest wartość na <span data-key="_bus">magistrali S</span> przy aktywnym <span data-key="_signal">sygnale weja</span>.
      Wynik operacji wpisywany jest do <span data-key="_register">rejestru AK</span> z użyciem <span data-key="_signal">sygnału  <span  class="over">weak</span></span>.
      Podczas jednego <span data-key="_cycle">taktu</span> może być aktywna tylko jedna operacja arytmetycno/logiczna.
    </p>
  </template>

  <template class = "info-entry" data-key="_mem" lang="en" data-default data-title="Random Access Memory">
    <p>
      <span data-key="_mem">Random Access Memory</span> is responsible for storing the program code and variables necessary for execution.
      Each memory cell stores one <span data-key="_word">machine word</span>.
      The amount of available memory space depends on the number of address bits in the machine word and can be expressed with the following equation: <i>memory cell count = 2 <sup>address bit count</sup></i>.
    </p>
    <p>
      In order to manipulate the memory <span data-key="_register">A register</span> and <span data-key="_register">S register</span> are used.
      <span data-key="_register">A register</span> value points to memory the cell that is currently being manipulated.
      <span data-key="_register">S register</span> is a memory buffer. Current memory cell value is read into it during <span data-key="_signal">czyt signal</span>.
      Current memory cell has it's value written based on <span data-key="_register">S register</span> value during <span data-key="_signal">pisz signal</span>.
    </p>
  </template>

  <template class = "info-entry" data-key="_mem" lang="pl" data-title="Pamięć Operacyjna">
    <p>
      <span data-key="_mem">Pamięć Operacyjna</span> przechowuje ona kod programu oraz zmienne potrzebne do jego wykonania.
      Na każdym adresie przechowywane jest jedno <span data-key="_word">słowo maszynowe</span>.
      Ilość dostępnych adresów zależy od szerokości bitów adresów słowa maszynowego w zależności: <i>ilość adresów = 2 <sup>ilość bitów adresu</sup></i>.
    </p>
    <p>
      W celach operacji na pamięci wykorzystuje się <span data-key="_register">rejestr A</span> i <span data-key="_register">rejestr S</span>.
      Wartość <span data-key="_register">rejestru A</span> wskazuje na adres obecnej komórki pamięci na której wykonywane są operacje.
      <span data-key="_register">Rejestr S</span> pełni rolę bufora pamięci. Jest do niego odczytywana wartość komórki pamięci przy <span data-key="_signal">sygnale czyt</span>.
      Jest z niego wpisywana wartość do komórki pamięci przy <span data-key="_signal">sygnale pisz</span>.
    </p>
  </template>

  <template class = "info-entry" data-key="_signal" lang="en" data-default data-title="Signals">
    <p>
      <span data-key="_signal">Signals</span> are used to controll machine components.
      Signals can be divided into: long and <span class="over">impulse</span> signals.
    </p>
    <ul>
      <li>Long signals: are active during entiryty of the <span data-key="_cycle">cycle</span> .</li>
      <li><span class="over">Impulse</span> signals: are active for short impulse during the end of a <span data-key="_cycle">cycle</span>.</li>
    </ul>
  </template>

  
  <template class = "info-entry" data-key="_signal" lang="pl" data-title="Sygnały">
    <p>
      <span data-key="_signal">Sygnały</span> są wykorzystywane do sterowania elementami maszyny.
      Sygnały dzielą się na sygnały podłużne i <span class="over">impulsowe</span>.
    </p>
    <ul>
      <li>Sygnały podłużne: są aktywne przez cały czas trwania <span data-key="_cycle">taktu</span>.</li>
      <li>Sygnały <span class="over">impulsowe</span>: są aktywne prez krótki czas na końcu <span data-key="_cycle">taktu</span>.</li>
    </ul>
  </template>
  



  <template class = "info-entry" data-title="Author" data-key="_author" lang="en" data-default>
    
    <a href="https://github.com/JakubSob1997">Jakub Sobolewski</a>
  </template>

  <template class = "info-entry" data-title="Autor" data-key="_author" lang="pl">
    <a href="https://github.com/JakubSob1997">Jakub Sobolewski</a>
  </template>

</body>
</html>